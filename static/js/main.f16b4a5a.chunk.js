(this["webpackJsonpreact-write-read-smart-contracts"]=this["webpackJsonpreact-write-read-smart-contracts"]||[]).push([[0],{31:function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"sender","type":"address"},{"indexed":false,"internalType":"string","name":"message","type":"string"}],"name":"log","type":"event"},{"inputs":[],"name":"balance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_deposit","type":"uint256"}],"name":"deposit","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"emiting","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_withdraw","type":"uint256"}],"name":"withdraw","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},76:function(e,t){},84:function(e,t){},87:function(e,t){},88:function(e,t){},89:function(e,t){},90:function(e,t){},91:function(e,t){},92:function(e,t){},93:function(e,t,n){"use strict";n.r(t);var s=n(15),c=n(46),r=n.n(c),a=n(3),i=n(33),o=n(18),l=n(24),d=n(19),u=n(31),b=n(5);function j(e){var t=e.txs;return 0===t.length?null:Object(b.jsx)(b.Fragment,{children:t.map((function(e){return Object(b.jsx)("div",{className:"alert-info mt-5 rounded-xl py-2 px-4",children:Object(b.jsxs)("div",{children:[Object(b.jsxs)("p",{children:["From: ",e.from]}),Object(b.jsxs)("p",{children:["To: ",e.to]}),Object(b.jsxs)("p",{children:["Amount: ",e.amount]}),Object(b.jsx)("a",{href:"https://rinkeby.etherscan.io/tx/".concat(e.txHash),children:"Check in block explorer"})]})},e.txHash)}))})}function m(){var e=Object(s.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(s.useState)(),m=Object(l.a)(r,2),x=m[0],p=m[1],h=Object(s.useState)(),f=Object(l.a)(h,2),O=(f[0],f[1],Object(s.useState)({address:"-",tokenName:"-",tokenSymbol:"-",totalSupply:"-"})),w=Object(l.a)(O,2),y=w[0],v=w[1],g=Object(s.useState)({address:"-",balance:"-"}),N=Object(l.a)(g,2),S=N[0],k=N[1];Object(s.useEffect)((function(){if("-"!==y.address){var e=new d.a.providers.Web3Provider(window.ethereum),t=new d.a.Contract(y.address,u,e);return t.on("Transfer",(function(e,t,n,s){console.log({from:e,to:t,amount:n,event:s}),c((function(c){return[].concat(Object(o.a)(c),[{txHash:s.transactionHash,from:e,to:t,amount:String(n)}])}))})),p(t),function(){x.removeAllListeners()}}}),[y.address]);var T=function(){var e=Object(i.a)(Object(a.a)().mark((function e(t){var n,s,c,r,i,o;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=new FormData(t.target),s=new d.a.providers.Web3Provider(window.ethereum),c=new d.a.Contract(n.get("addr"),u,s),e.next=6,c.name();case 6:return r=e.sent,e.next=9,c.symbol();case 9:return i=e.sent,e.next=12,c.totalSupply();case 12:o=e.sent,v({address:n.get("addr"),tokenName:r,tokenSymbol:i,totalSupply:o});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(i.a)(Object(a.a)().mark((function e(){var t,n,s,c,r;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new d.a.providers.Web3Provider(window.ethereum),e.next=3,t.send("eth_requestAccounts",[]);case 3:return n=new d.a.Contract(y.address,u,t),e.next=6,t.getSigner();case 6:return s=e.sent,e.next=9,s.getAddress();case 9:return c=e.sent,e.next=12,n.balanceOf(c);case 12:r=e.sent,k({address:c,balance:String(r)});case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(i.a)(Object(a.a)().mark((function e(t){var n,s,c,r;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=new FormData(t.target),s=new d.a.providers.Web3Provider(window.ethereum),e.next=5,s.send("eth_requestAccounts",[]);case 5:return e.next=7,s.getSigner();case 7:return c=e.sent,r=new d.a.Contract(y.address,u,c),e.next=11,r.transfer(n.get("recipient"),n.get("amount"));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{className:"grid grid-cols-1 gap-2 md:grid-cols-2",children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("form",{className:"m-4",onSubmit:T,children:Object(b.jsxs)("div",{className:"credit-card w-full lg:w-3/4 sm:w-auto shadow-lg mx-auto rounded-xl bg-white",children:[Object(b.jsxs)("main",{className:"mt-4 p-4",children:[Object(b.jsx)("h1",{className:"text-xl font-semibold text-gray-700 text-center",children:"Read from smart contract"}),Object(b.jsx)("div",{className:"",children:Object(b.jsx)("div",{className:"my-3",children:Object(b.jsx)("input",{type:"text",name:"addr",className:"input input-bordered block w-full focus:ring focus:outline-none",placeholder:"ERC20 contract address"})})})]}),Object(b.jsx)("footer",{className:"p-4",children:Object(b.jsx)("button",{type:"submit",className:"btn btn-primary submit-button focus:ring focus:outline-none w-full",children:"Get token info"})}),Object(b.jsx)("div",{className:"px-4",children:Object(b.jsx)("div",{className:"overflow-x-auto",children:Object(b.jsxs)("table",{className:"table w-full",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Name"}),Object(b.jsx)("th",{children:"Symbol"}),Object(b.jsx)("th",{children:"Total supply"})]})}),Object(b.jsx)("tbody",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:y.tokenName}),Object(b.jsx)("td",{children:y.tokenSymbol}),Object(b.jsx)("td",{children:String(y.totalSupply)}),Object(b.jsx)("td",{children:y.deployedAt})]})})]})})}),Object(b.jsx)("div",{className:"p-4",children:Object(b.jsx)("button",{onClick:A,type:"submit",className:"btn btn-primary submit-button focus:ring focus:outline-none w-full",children:"Get my balance"})}),Object(b.jsx)("div",{className:"px-4",children:Object(b.jsx)("div",{className:"overflow-x-auto",children:Object(b.jsxs)("table",{className:"table w-full",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Address"}),Object(b.jsx)("th",{children:"Balance"})]})}),Object(b.jsx)("tbody",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:S.address}),Object(b.jsx)("td",{children:S.balance/1e18})]})})]})})})]})}),Object(b.jsx)("div",{className:"m-4 credit-card w-full lg:w-3/4 sm:w-auto shadow-lg mx-auto rounded-xl bg-white",children:Object(b.jsxs)("div",{className:"mt-4 p-4",children:[Object(b.jsx)("h1",{className:"text-xl font-semibold text-gray-700 text-center",children:"Write to contract"}),Object(b.jsxs)("form",{onSubmit:C,children:[Object(b.jsx)("div",{className:"my-3",children:Object(b.jsx)("input",{type:"text",name:"recipient",className:"input input-bordered block w-full focus:ring focus:outline-none",placeholder:"Recipient address"})}),Object(b.jsx)("div",{className:"my-3",children:Object(b.jsx)("input",{type:"text",name:"amount",className:"input input-bordered block w-full focus:ring focus:outline-none",placeholder:"Amount to transfer"})}),Object(b.jsx)("footer",{className:"p-4",children:Object(b.jsx)("button",{type:"submit",className:"btn btn-primary submit-button focus:ring focus:outline-none w-full",children:"Transfer"})})]})]})})]}),Object(b.jsx)("div",{children:Object(b.jsx)("div",{className:"m-4 credit-card w-full lg:w-3/4 sm:w-auto shadow-lg mx-auto rounded-xl bg-white",children:Object(b.jsxs)("div",{className:"mt-4 p-4",children:[Object(b.jsx)("h1",{className:"text-xl font-semibold text-gray-700 text-center",children:"Recent transactions"}),Object(b.jsx)("p",{children:Object(b.jsx)(j,{txs:n})})]})})})]})}var x=document.getElementById("root");r.a.render(Object(b.jsx)(s.StrictMode,{children:Object(b.jsx)(m,{})}),x)}},[[93,1,2]]]);
//# sourceMappingURL=main.f16b4a5a.chunk.js.map